---
id: unvhobazy97207p5sknvdz9
title: Vim使用教程
desc: ''
updated: 1683204811782
created: 1682939832694
---


## 简介
xx

## 教程
### 模式

![](https://minio.kevin2li.top/image-bed/202305012047948.png)

#### 命令模式
##### 窗口管理
| 功能                 | 按键       |
| -------------------- | ---------- |
| 关闭当前窗口         | `:q`       |
| 保存并关闭当前窗口   | `:wq`      |
| 关闭当前窗口(不保存) | `:q!`      |
| 水平分割窗口         | `Ctrl-W s` |
| 垂直分割窗口         | `Ctrl-W v` |

##### tab页管理
| 功能              | 按键             |
| ----------------- | ---------------- |
| 在新tab页打开文件 | `:tabnew {file}` |
| 切换到下一个tab   | `:tabn`          |
| 切换到上一个tab   | `:tabp`          |
| 关闭其他tab       | `:tabo`          |

##### 文本内容处理

| 功能                   | 按键      |
| ---------------------- | --------- |
| 复制第49到51行的内容   | `:49,51y` |
| 删除第30到第34行的内容 | `:30,34d` |
| 删除当前行及下面两行   | `:.,+2d`  |
| 删除整个文档           | `:%d`     |


##### 光标移动
| 功能             | 按键   |
| ---------------- | ------ |
| 光标向上移动10行 | `:-10` |
| 光标向下移动10行 | `:+10` |
| 移动到第123行    | `:123` |
| 移动到首行       | `:0`   |
| 移动到末行       | `:$`   |


#### 输入模式

| 功能                 | 按键       |
| -------------------- | ---------- |
| 在光标前输入         | `i`        |
| 在光标后输入         | `a`        |
| 在行首输入           | `I`        |
| 在行尾输入           | `A`        |
| 在下一行开头输入     | `o`        |
| 在上一行开头输入     | `O`        |
| 修改当前char         | `s`        |
| 删除前一个char       | `Ctrl-H`   |
| 删除前一个word       | `Ctrl-W`   |
| 删除当前行光标前内容 | `Ctrl-U`   |
| 回到上次修改位置     | `gi`       |
| 粘贴寄存器`x`的内容  | `Ctrl-R x` |

#### 替换模式
#### 可视模式
| 功能                    | 按键     |
| ----------------------- | -------- |
| 进入char-level可视模式  | `v`      |
| 进入line-level可视模式  | `V`      |
| 进入block-level可视模式 | `Ctrl-V` |

### 语法

```bash
[count] [operator] [motion]
```
说明：
- `count`: 命令执行次数
- `operator`: 命令类型，包括`y`、`d`、`c`、`x`等
- `motion`: 指明光标移动范围

例如：
- `caw`: 修改当前word
- `yaw`: 复制当前word
- `dl`: 删除当前字符
- `ct.`: 修改直到`.`前面的内容
- `3dd`: 删除3行

### 文本操作
#### 光标移动
##### 行内移动

###### 移动到行首/行尾

| 功能               | 按键 |
| ------------------ | ---- |
| 移动到行首         | `0`  |
| 移动到行尾         | `$`  |
| 移动到行首(非空白) | `^`  |
| 移动到行尾(非空白) | `g_` |

###### 按单词移动

> ![](https://minio.kevin2li.top/image-bed/202305041804096.png)
> word和Word的区别

| 功能                 | 按键 |
| -------------------- | ---- |
| 移动到下一个word开头 | `w`  |
| 移动到上一个word开头 | `b`  |
| 移动到下一个word结尾 | `e`  |
| 移动到上一个word结尾 | `ge` |
| 移动到下一个WORD开头 | `W`  |
| 移动到上一个WORD开头 | `B`  |
| 移动到下一个WORD结尾 | `E`  |
| 移动到上一个WORD结尾 | `gE` |

###### 按括号移动

| 功能                                 | 按键 |
| ------------------------------------ | ---- |
| 移动到对应括号匹配位置(支持`{[()]}`) | `%`  |

###### 按指定字符移动
| 功能                 | 按键      |
| -------------------- | --------- |
| 移到到下一个`char`   | `f{char}` |
| 移到到上一个`char`   | `F{char}` |
| 移到直到下一个`char` | `t{char}` |
| 移到直到上一个`char` | `T{char}` |

::: tip  查找匹配
查找下一个： `;`
查找上一个： `,`
:::

##### 跨行移动

| 功能                    | 按键                                  |
| ----------------------- | ------------------------------------- |
| 移动到首行              | `gg`                                  |
| 移动到尾行              | `G`                                   |
| 移动到`{line-number}`行 | `{line-number}gg` 或 `{line-number}G` |
| 移动到屏幕顶端          | `H`                                   |
| 移动到屏幕中端          | `M`                                   |
| 移动到屏幕底端          | `L`                                   |
| 向下翻页半个屏幕        | `Ctrl+d`                              |
| 向上翻页半个屏幕        | `Ctrl+u`                              |
| 向下翻页整个屏幕        | `Ctrl+f`                              |
| 向上翻页整个屏幕        | `Ctrl+b`                              |


#### 复制/剪切/修改/粘贴
![](https://minio.kevin2li.top/image-bed/202305041810287.png)
##### 复制
| 功能                                  | 按键        |
| ------------------------------------- | ----------- |
| 复制一个letter                        | `yl`        |
| 复制一个word                          | `yaw`       |
| 复制一个sentence                      | `yas`       |
| 复制当前行                            | `yy` or `Y` |
| 复制`()`内内容                        | `yi(`       |
| 复制`[]`内内容                        | `yi[`       |
| 复制`<>`内内容                        | `yi<`       |
| 复制`{}`内内容                        | `yi{`       |
| 复制`""`内内容                        | `yi"`       |
| 复制`''`内内容                        | `yi'`       |
| 复制``` `` ```内内容                  | `` yi` ``   |
| 复制`()`内内容 (包含外部定界符)       | `ya(`       |
| 复制`[]`内内容 (包含外部定界符)       | `ya[`       |
| 复制`<>`内内容 (包含外部定界符)       | `ya<`       |
| 复制`{}`内内容 (包含外部定界符)       | `ya{`       |
| 复制`""`内内容 (包含外部定界符)       | `ya"`       |
| 复制`''`内内容 (包含外部定界符)       | `ya'`       |
| 复制``` `` ```内内容 (包含外部定界符) | `` ya` ``   |


##### 粘贴
| 功能                                        | 按键  |
| ------------------------------------------- | ----- |
| 在当前光标后粘贴 (结束后光标置于粘贴内容前) | `p`   |
| 在当前光标前粘贴 (结束后光标置于粘贴内容前) | `P`   |
| 在当前光标后粘贴 (结束后光标置于粘贴内容后) | `gp`  |
| 在当前光标前粘贴 (结束后光标置于粘贴内容后) | `gP`  |
| 拷贝当前行到下一行                          | `yyp` |
| 交换上下两行                                | `ddp` |

##### 剪切
| 功能                                  | 按键          |
| ------------------------------------- | ------------- |
| 剪切当前行                            | `dd`          |
| 剪切至行尾                            | `D`           |
| 剪切当前word                          | `daw`         |
| 交换左右字母顺序                      | `dlp` 或 `xp` |
| 剪切`()`内内容                        | `di(`         |
| 剪切`[]`内内容                        | `di[`         |
| 剪切`<>`内内容                        | `di<`         |
| 剪切`{}`内内容                        | `di{`         |
| 剪切`""`内内容                        | `di"`         |
| 剪切`''`内内容                        | `di'`         |
| 剪切``` `` ```内内容                  | `` di` ``     |
| 剪切`()`内内容 (包含外部定界符)       | `da(`         |
| 剪切`[]`内内容 (包含外部定界符)       | `da[`         |
| 剪切`<>`内内容 (包含外部定界符)       | `da<`         |
| 剪切`{}`内内容 (包含外部定界符)       | `da{`         |
| 剪切`""`内内容 (包含外部定界符)       | `da"`         |
| 剪切`''`内内容 (包含外部定界符)       | `da'`         |
| 剪切``` `` ```内内容 (包含外部定界符) | `` da` ``     |

##### 修改
| 功能                                  | 按键           |
| ------------------------------------- | -------------- |
| 修改当前行                            | `cc`           |
| 修改至行尾                            | `C`            |
| 修改当前word                          | `caw` 或 `ciw` |
| 修改`()`内内容                        | `ci(`          |
| 修改`[]`内内容                        | `ci[`          |
| 修改`<>`内内容                        | `ci<`          |
| 修改`{}`内内容                        | `ci{`          |
| 修改`""`内内容                        | `ci"`          |
| 修改`''`内内容                        | `ci'`          |
| 修改``` `` ```内内容                  | `` ci` ``      |
| 修改`()`内内容 (包含外部定界符)       | `ca(`          |
| 修改`[]`内内容 (包含外部定界符)       | `ca[`          |
| 修改`<>`内内容 (包含外部定界符)       | `ca<`          |
| 修改`{}`内内容 (包含外部定界符)       | `ca{`          |
| 修改`""`内内容 (包含外部定界符)       | `ca"`          |
| 修改`''`内内容 (包含外部定界符)       | `ca'`          |
| 修改``` `` ```内内容 (包含外部定界符) | `` ca` ``      |


#### 查找

| 功能 | 按键 | 说明 |
| ---- | ---- | ---- |
| `/`  | `ds` |      |

#### 替换
格式：

``` bash 
:[range]/{pattern}/{substitute}/[flags]
```

| 功能     | 按键      | 说明             |
| -------- | --------- | ---------------- |
| -------- | --------- | ---------------- |

aaa bbb ccc ddd aaa dddd ccc bbb

#### 环绕

| 功能     | 按键      | 说明             |
| -------- | --------- | ---------------- |
| 删除环绕 | `ds`      |                  |
| 添加环绕 | `ys`      |                  |
| 添加环绕 | `S{char}` | 需要先选中再使用 |
| 修改环绕 | `cs'"`    | 将'修改为"       |

#### 其他

| 功能           | 按键  |
| -------------- | ----- |
| 交换大小写     | `g~`  |
| 交换整行大小写 | `g~~` |
| 增加缩进       | `>>`  |
| 减少缩进       | `<<`  |

### 寄存器(register)
| 类型                          | 名称  | 作用                          |
| ----------------------------- | ----- | ----------------------------- |
| 未命名寄存器(unamed register) | `"`   | 复制/剪切默认的寄存器存储位置 |
| 命名寄存器(named register)    | `a-z` | 由用户自定义存储内容          |
| 复制寄存器(yank register)     | `0`   | 存储最近复制的内容            |
| 剪切寄存器(cut register)      | `1-9` | 存储最近9次剪切的内容         |

语法：
- 通过`"x`语法来指定使用命名寄存器`x`，向其中覆盖写入内容
- 通过`"X`语法来指定使用命名寄存器`x`，向其中追加写入内容

| 功能                    | 按键                                            |
| ----------------------- | ----------------------------------------------- |
| 存储内容到命名寄存器`a` | `"ay{motion}` 或 `"ad{motion}` 或 `"ac{motion}` |
| 粘贴命名寄存器`a`的内容 | `"ap`                                           |

### 宏(macro)


### 重复执行
- `.`: 重复执行上次动作


### 撤销和恢复
- `u`: 撤销上次更改
- `Ctrl+R`: 恢复上次更改

### Cheatsheet
![](https://minio.kevin2li.top/image-bed/202305012053709.png)

## 参考
1. https://vim.rtorr.com/
2. https://www.lesswrong.com/posts/ioGf4LHid42mCK3SK/vim
3. [Learn Vim | vscode插件](  https://marketplace.visualstudio.com/items?itemName=vintharas.learn-vim )---